!function(a,b,c){"use strict";function T(c){if(h=b.documentElement,i=b.body,Q(),nb=this,c=c||{},ub=c.constants||{},c.easing)for(var d in c.easing)S[d]=c.easing[d];Ib=c.edgeStrategy||"set",qb={beforerender:c.beforerender,render:c.render},rb=c.forceHeight!==!1,rb&&(tb=c.scale||1),vb=c.mobileDeceleration||x,Db=c.smoothScrolling!==!1,Eb=c.smoothScrollingDuration||y,Fb={targetTop:nb.getScrollTop()},Jb=(c.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||a.opera)})(),Jb?(pb=b.getElementById("skrollr-body"),pb&&db(),U(),ib(h,[r,u],[s])):ib(h,[r,t],[s]),nb.refresh(),eb(a,"resize orientationchange",function(){var a=h.clientWidth,b=h.clientHeight;(b!==Ab||a!==zb)&&(Ab=b,zb=a,Bb=!0)});var e=R();return function f(){X(),e(f)}(),nb}var h,i,d=a.skrollr={get:function(){return nb},init:function(a){return nb||new T(a)},VERSION:"0.6.11"},e=Object.prototype.hasOwnProperty,f=a.Math,g=a.getComputedStyle,j="touchstart",k="touchmove",l="touchcancel",m="touchend",n="skrollable",o=n+"-before",p=n+"-between",q=n+"-after",r="skrollr",s="no-"+r,t=r+"-desktop",u=r+"-mobile",v="linear",w=1e3,x=.004,y=200,z="start",A="end",B="center",C="bottom",D="___skrollable_id",E=/^\s+|\s+$/g,F=/^data(?:-(_\w+))?(?:-?(-?\d+))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,G=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,H=/^([a-z\-]+)\[(\w+)\]$/,I=/-([a-z])/g,J=function(a,b){return b.toUpperCase()},K=/[\-+]?[\d]*\.?[\d]+/g,L=/\{\?\}/g,M=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,N=/[a-z\-]+-gradient/g,O="",P="",Q=function(){var a=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(g){var b=g(i,null);for(var c in b)if(O=c.match(a)||+c==c&&b[c].match(a))break;if(!O)return O=P="",void 0;O=O[0],"-"===O.slice(0,1)?(P=O,O={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[O]):P="-"+O.toLowerCase()+"-"}},R=function(){var b=a.requestAnimationFrame||a[O.toLowerCase()+"RequestAnimationFrame"],c=lb();return(Jb||!b)&&(b=function(b){var d=lb()-c,e=f.max(0,1e3/60-d);a.setTimeout(function(){c=lb(),b()},e)}),b},S={begin:function(){return 0},end:function(){return 1},linear:function(a){return a},quadratic:function(a){return a*a},cubic:function(a){return a*a*a},swing:function(a){return-f.cos(a*f.PI)/2+.5},sqrt:function(a){return f.sqrt(a)},outCubic:function(a){return f.pow(a-1,3)+1},bounce:function(a){var b;if(.5083>=a)b=3;else if(.8489>=a)b=9;else if(.96208>=a)b=27;else{if(!(.99981>=a))return 1;b=91}return 1-f.abs(3*f.cos(1.028*a*b)/b)}};T.prototype.refresh=function(a){var d,e,f=!1;for(a===c?(f=!0,ob=[],Hb=0,a=b.getElementsByTagName("*")):a=[].concat(a),d=0,e=a.length;e>d;d++){var g=a[d],h=g,i=[],j=Db,k=Ib;if(g.attributes){for(var l=0,m=g.attributes.length;m>l;l++){var o=g.attributes[l];if("data-anchor-target"!==o.name)if("data-smooth-scrolling"!==o.name)if("data-edge-strategy"!==o.name){var p=o.name.match(F);if(null!==p){var q=p[1];q=q&&ub[q.substr(1)]||0;var r=(0|p[2])+q,s=p[3],t=p[4]||s,u={offset:r,props:o.value,element:g};i.push(u),s&&s!==z&&s!==A?(u.mode="relative",u.anchors=[s,t]):(u.mode="absolute",s===A?u.isEnd=!0:(u.frame=r*tb,delete u.offset))}}else k=o.value;else j="off"!==o.value;else if(h=b.querySelector(o.value),null===h)throw'Unable to find anchor target "'+o.value+'"'}if(i.length){var v,w,x;!f&&D in g?(x=g[D],v=ob[x].styleAttr,w=ob[x].classAttr):(x=g[D]=Hb++,v=g.style.cssText,w=hb(g)),ob[x]={element:g,styleAttr:v,classAttr:w,anchorTarget:h,keyFrames:i,smoothScrolling:j,edgeStrategy:k},ib(g,[n],[])}}}for(fb(),d=0,e=a.length;e>d;d++){var y=ob[a[d][D]];y!==c&&(Y(y),$(y))}return nb},T.prototype.relativeToAbsolute=function(a,b,c){var d=h.clientHeight,e=a.getBoundingClientRect(),f=e.top,g=e.bottom-e.top;return b===C?f-=d:b===B&&(f-=d/2),c===C?f+=g:c===B&&(f+=g/2),f+=nb.getScrollTop(),0|f+.5},T.prototype.animateTo=function(a,b){b=b||{};var d=lb(),e=nb.getScrollTop();return Cb={startTop:e,topDiff:a-e,targetTop:a,duration:b.duration||w,startTime:d,endTime:d+(b.duration||w),easing:S[b.easing||v],done:b.done},Cb.topDiff||(Cb.done&&Cb.done.call(nb,!1),Cb=c),nb},T.prototype.stopAnimateTo=function(){Cb&&Cb.done&&Cb.done.call(nb,!0),Cb=c},T.prototype.isAnimatingTo=function(){return!!Cb},T.prototype.setScrollTop=function(b,c){return c===!0&&(xb=b,Gb=!0),Jb?Kb=f.min(f.max(b,0),sb):a.scrollTo(0,b),nb},T.prototype.getScrollTop=function(){return Jb?Kb:a.pageYOffset||h.scrollTop||i.scrollTop||0},T.prototype.on=function(a,b){return qb[a]=b,nb},T.prototype.off=function(a){return delete qb[a],nb};var U=function(){var b,d,e,g,n,o,p,q,r,s,t;eb(h,[j,k,l,m].join(" "),function(a){a.preventDefault();var h=a.changedTouches[0];switch(g=h.clientY,n=h.clientX,r=a.timeStamp,a.type){case j:b&&b.blur(),nb.stopAnimateTo(),b=a.target,d=o=g,e=n,q=r;break;case k:p=g-o,t=r-s,nb.setScrollTop(Kb-p,!0),o=g,s=r;break;default:case l:case m:var i=d-g,u=e-n,v=u*u+i*i;if(49>v)return b.focus(),b.click(),void 0;b=c;var w=p/t;w=f.max(f.min(w,3),-3);var x=f.abs(w/vb),y=w*x+.5*vb*x*x,z=nb.getScrollTop()-y,A=0;z>sb?(A=(sb-z)/y,z=sb):0>z&&(A=-z/y,z=0),x*=1-A,nb.animateTo(z,{easing:"outCubic",duration:x})}}),a.scrollTo(0,0),h.style.overflow=i.style.overflow="hidden"},V=function(){var a,b,c,d,e,g,h,i,j;for(i=0,j=ob.length;j>i;i++)for(a=ob[i],b=a.element,c=a.anchorTarget,d=a.keyFrames,e=0,g=d.length;g>e;e++)h=d[e],"relative"===h.mode&&(cb(b),h.frame=nb.relativeToAbsolute(c,h.anchors[0],h.anchors[1])-h.offset,cb(b,!0)),rb&&!h.isEnd&&h.frame>sb&&(sb=h.frame);for(sb=f.max(sb,gb()),i=0,j=ob.length;j>i;i++){for(a=ob[i],d=a.keyFrames,e=0,g=d.length;g>e;e++)h=d[e],h.isEnd&&(h.frame=sb-h.offset);a.keyFrames.sort(mb)}},W=function(a,b){for(var c=0,f=ob.length;f>c;c++){var t,u,g=ob[c],h=g.element,i=g.smoothScrolling?a:b,j=g.keyFrames,k=j[0].frame,l=j[j.length-1].frame,m=k>i,r=i>l,s=j[m?0:j.length-1];if(m||r){if(m&&-1===g.edge||r&&1===g.edge)continue;switch(ib(h,[m?o:q],[o,p,q]),g.edge=m?-1:1,g.edgeStrategy){case"reset":cb(h);continue;case"ease":i=s.frame;break;default:case"set":var v=s.props;for(t in v)e.call(v,t)&&(u=bb(v[t].value),d.setStyle(h,t,u));continue}}else 0!==g.edge&&(ib(h,[n,p],[o,q]),g.edge=0);for(var w=0,x=j.length-1;x>w;w++)if(i>=j[w].frame&&i<=j[w+1].frame){var y=j[w],z=j[w+1];for(t in y.props)if(e.call(y.props,t)){var A=(i-y.frame)/(z.frame-y.frame);A=y.props[t].easing(A),u=ab(y.props[t].value,z.props[t].value,A),u=bb(u),d.setStyle(h,t,u)}break}}},X=function(){Bb&&(Bb=!1,fb());var b,f,a=nb.getScrollTop(),e=lb();if(Cb)e>=Cb.endTime?(a=Cb.targetTop,b=Cb.done,Cb=c):(f=Cb.easing((e-Cb.startTime)/Cb.duration),a=0|Cb.startTop+f*Cb.topDiff),nb.setScrollTop(a,!0);else if(!Jb){var g=Fb.targetTop-a;g&&(Fb={startTop:xb,topDiff:a-xb,targetTop:a,startTime:yb,endTime:yb+Eb}),e<=Fb.endTime&&(f=S.sqrt((e-Fb.startTime)/Eb),a=0|Fb.startTop+f*Fb.topDiff)}if(Jb&&pb&&d.setStyle(pb,"transform","translate(0, "+-Kb+"px) "+Lb),Gb||xb!==a){wb=a>=xb?"down":"up",Gb=!1;var h={curTop:a,lastTop:xb,maxTop:sb,direction:wb},i=qb.beforerender&&qb.beforerender.call(nb,h);i!==!1&&(W(a,nb.getScrollTop()),xb=a,qb.render&&qb.render.call(nb,h)),b&&b.call(nb,!1)}yb=e},Y=function(a){for(var b=0,c=a.keyFrames.length;c>b;b++){for(var e,f,g,i,d=a.keyFrames[b],h={};null!==(i=G.exec(d.props));)g=i[1],f=i[2],e=g.match(H),null!==e?(g=e[1],e=e[2]):e=v,f=f.indexOf("!")?Z(f):[f.slice(1)],h[g]={value:f,easing:S[e]};d.props=h}},Z=function(a){var b=[];return M.lastIndex=0,a=a.replace(M,function(a){return a.replace(K,function(a){return 100*(a/255)+"%"})}),P&&(N.lastIndex=0,a=a.replace(N,function(a){return P+a})),a=a.replace(K,function(a){return b.push(+a),"{?}"}),b.unshift(a),b},$=function(a){var c,d,b={};for(c=0,d=a.keyFrames.length;d>c;c++)_(a.keyFrames[c],b);for(b={},c=a.keyFrames.length-1;c>=0;c--)_(a.keyFrames[c],b)},_=function(a,b){var c;for(c in b)e.call(a.props,c)||(a.props[c]=b[c]);for(c in a.props)b[c]=a.props[c]},ab=function(a,b,c){var d,e=a.length;if(e!==b.length)throw"Can't interpolate between \""+a[0]+'" and "'+b[0]+'"';var f=[a[0]];for(d=1;e>d;d++)f[d]=a[d]+(b[d]-a[d])*c;return f},bb=function(a){var b=1;return L.lastIndex=0,a[0].replace(L,function(){return a[b++]})},cb=function(a,b){a=[].concat(a);for(var c,d,e=0,f=a.length;f>e;e++)d=a[e],c=ob[d[D]],c&&(b?(d.style.cssText=c.dirtyStyleAttr,ib(d,c.dirtyClassAttr)):(c.dirtyStyleAttr=d.style.cssText,c.dirtyClassAttr=hb(d),d.style.cssText=c.styleAttr,ib(d,c.classAttr)))},db=function(){Lb="translateZ(0)",d.setStyle(pb,"transform",Lb);var a=g(pb),b=a.getPropertyValue("transform"),c=a.getPropertyValue(P+"transform"),e=b&&"none"!==b||c&&"none"!==c;e||(Lb="")};d.setStyle=function(a,b,c){var d=a.style;if(b=b.replace(I,J).replace("-",""),"zIndex"===b)d[b]=""+(0|c);else if("float"===b)d.styleFloat=d.cssFloat=c;else try{O&&(d[O+b.slice(0,1).toUpperCase()+b.slice(1)]=c),d[b]=c}catch(e){}};var nb,ob,pb,qb,rb,ub,vb,Cb,Db,Eb,Fb,Gb,Ib,Lb,eb=d.addEvent=function(b,c,d){var e=function(b){return b=b||a.event,b.target||(b.target=b.srcElement),b.preventDefault||(b.preventDefault=function(){b.returnValue=!1}),d.call(this,b)};c=c.split(" ");for(var f=0,g=c.length;g>f;f++)b.addEventListener?b.addEventListener(c[f],d,!1):b.attachEvent("on"+c[f],e)},fb=function(){var a=nb.getScrollTop();sb=0,rb&&!Jb&&(i.style.height="auto"),V(),rb&&!Jb&&(i.style.height=sb+h.clientHeight+"px"),Jb?nb.setScrollTop(f.min(nb.getScrollTop(),sb)):nb.setScrollTop(a,!0),Gb=!0},gb=function(){var a=pb&&pb.offsetHeight||0,b=f.max(a,i.scrollHeight,i.offsetHeight,h.scrollHeight,h.offsetHeight,h.clientHeight);return b-h.clientHeight},hb=function(b){var c="className";return a.SVGElement&&b instanceof a.SVGElement&&(b=b[c],c="baseVal"),b[c]},ib=function(b,d,e){var f="className";if(a.SVGElement&&b instanceof a.SVGElement&&(b=b[f],f="baseVal"),e===c)return b[f]=d,void 0;for(var g=b[f],h=0,i=e.length;i>h;h++)g=kb(g).replace(kb(e[h])," ");g=jb(g);for(var j=0,k=d.length;k>j;j++)-1===kb(g).indexOf(kb(d[j]))&&(g+=" "+d[j]);b[f]=jb(g)},jb=function(a){return a.replace(E,"")},kb=function(a){return" "+a+" "},lb=Date.now||function(){return+new Date},mb=function(a,b){return a.frame-b.frame},sb=0,tb=1,wb="down",xb=-1,yb=lb(),zb=0,Ab=0,Bb=!1,Hb=0,Jb=!1,Kb=0}(window,document);